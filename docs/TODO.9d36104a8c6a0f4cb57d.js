(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["TODO"],{"13c8":function(e,t,r){var n=r("c3a1"),a=r("36c3"),i=r("355d").f;e.exports=function(e){return function(t){var r,s=a(t),o=n(s),c=o.length,u=0,d=[];while(c>u)i.call(s,r=o[u++])&&d.push(e?[r,s[r]]:s[r]);return d}}},"7d6d":function(e,t,r){var n=r("63b6"),a=r("13c8")(!1);n(n.S,"Object",{values:function(e){return a(e)}})},"7dc1":function(e,t,r){},"8e49":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"main-box"},[r("Sidebar",{staticClass:"sidebar"}),r("MainContent",{staticClass:"main-content"})],1)},a=[],i={menuList:[],currentActiveName:"",categoryMap:{system:[],custom:[]},currentMenu:{type:"",info:{}}},s=(r("96cf"),r("3b8d")),o=r("2b0e"),c=o["default"].prototype.$X,u={Task:{getList:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c.http.get("/TODO/task/list",{params:t});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),doAdd:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c.http.post("/TODO/task/add",t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),doRemove:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c.http.post("/TODO/task/remove",t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),doEdit:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c.http.post("/TODO/task/edit",t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}()},Category:{getList:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c.http.get("/TODO/category/list",{params:t});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),doAdd:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c.http.post("/TODO/category/add",t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),doRemove:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c.http.post("/TODO/category/remove",t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),doEdit:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c.http.post("/TODO/category/edit",t);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}()}},d={"task/list":function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t,r){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.commit,e.next=3,u.Task.getList(r);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}},e)}));function t(t,r){return e.apply(this,arguments)}return t}(),"task/add":function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t,r){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.commit,e.next=3,u.Task.doAdd(r);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}},e)}));function t(t,r){return e.apply(this,arguments)}return t}(),"task/edit":function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t,r){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.commit,e.next=3,u.Task.doEdit(r);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}},e)}));function t(t,r){return e.apply(this,arguments)}return t}(),"task/remove":function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t,r){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.commit,e.next=3,u.Task.doRemove(r);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}},e)}));function t(t,r){return e.apply(this,arguments)}return t}(),"category/list":function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t,r){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.commit,e.next=3,u.Category.getList(r);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}},e)}));function t(t,r){return e.apply(this,arguments)}return t}(),"category/add":function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t,r){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.commit,e.next=3,u.Category.doAdd(r);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}},e)}));function t(t,r){return e.apply(this,arguments)}return t}(),"category/edit":function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t,r){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.commit,e.next=3,u.Category.doEdit(r);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}},e)}));function t(t,r){return e.apply(this,arguments)}return t}(),"category/remove":function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t,r){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.commit,e.next=3,u.Category.doRemove(r);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}},e)}));function t(t,r){return e.apply(this,arguments)}return t}()},p={"currentActiveName/update":function(e,t){e.currentActiveName=t},"categoryMap/update":function(e,t){e.categoryMap=t},"currentMenu/update":function(e,t){e.currentMenu=t}},m={moduleName:"TODO",store:{namespaced:!0,state:i,actions:d,mutations:p}},f=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"sidebar-box"},[r("Menu",{ref:"sidebar",staticClass:"menu",attrs:{theme:"light","active-name":e.currentActiveName},on:{"on-select":e.triggerMenu}},[e._l(e.menuList.filter(function(e){return e.enable}),function(t,n){return r("MenuItem",{key:"menu_"+n,attrs:{name:"menu_"+n}},[t.icon?r("Icon",{attrs:{type:t.icon}}):e._e(),r("span",[e._v(e._s(t.lang?e.$t(t.lang):t.label))])],1)}),e._l(e.categoryMap.system,function(t,n){return r("MenuItem",{key:"category_system_"+n,attrs:{name:"category_system_"+n}},[r("Icon",{style:{color:t.theme},attrs:{type:"md-list"}}),r("span",{style:{color:t.theme}},[e._v(e._s(t.lang?e.$t(t.lang):t.name))])],1)}),e._l(e.categoryMap.custom,function(t,n){return r("MenuItem",{key:"category_custom_"+n,attrs:{name:"category_custom_"+n}},[r("Icon",{directives:[{name:"show",rawName:"v-show",value:!("category"===e.currentCategory.type&&e.currentCategory.info&&e.currentCategory.info.id===t.id),expression:"!(currentCategory.type === 'category' && currentCategory.info && currentCategory.info.id === item.id)"}],style:{color:t.theme},attrs:{type:"md-list"}}),r("span",{directives:[{name:"show",rawName:"v-show",value:!("category"===e.currentCategory.type&&e.currentCategory.info&&e.currentCategory.info.id===t.id),expression:"!(currentCategory.type === 'category' && currentCategory.info && currentCategory.info.id === item.id)"}],style:{color:t.theme}},[e._v("\n        "+e._s(t.lang?e.$t(t.lang):t.name)+"\n      ")]),r("Input",{directives:[{name:"show",rawName:"v-show",value:"category"===e.currentCategory.type&&e.currentCategory.info&&e.currentCategory.info.id===t.id,expression:"currentCategory.type === 'category' && currentCategory.info && currentCategory.info.id === item.id"}],ref:"editCategory_"+t.id,refInFor:!0,staticClass:"input-block",attrs:{placeholder:e.$t("L00170"),size:"large",autofocus:!0},on:{"on-blur":function(t){return e.handleBlur("edit")},"on-enter":function(t){return t.stopPropagation(),t.preventDefault(),e.doEditCategory(t)}},nativeOn:{click:function(e){e.stopPropagation(),e.preventDefault()}},model:{value:e.editForm.name,callback:function(t){e.$set(e.editForm,"name",t)},expression:"editForm.name"}},[r("Icon",{attrs:{slot:"prefix",type:"md-add"},slot:"prefix"})],1)],1)}),r("MenuItem",{attrs:{name:"action_addCategory"}},[r("Icon",{directives:[{name:"show",rawName:"v-show",value:!e.isAddingCategory,expression:"!isAddingCategory"}],attrs:{type:"md-add"}}),r("span",{directives:[{name:"show",rawName:"v-show",value:!e.isAddingCategory,expression:"!isAddingCategory"}]},[e._v(e._s(e.$t("L00166")))]),r("Input",{directives:[{name:"show",rawName:"v-show",value:e.isAddingCategory,expression:"isAddingCategory"}],ref:"addCategory",staticClass:"input-block",attrs:{placeholder:e.$t("L00170"),size:"large",autofocus:!0},on:{"on-blur":function(t){return e.handleBlur("add")},"on-enter":function(t){return t.stopPropagation(),t.preventDefault(),e.doAddCategory(t)}},nativeOn:{click:function(e){e.stopPropagation(),e.preventDefault()}},model:{value:e.addForm.name,callback:function(t){e.$set(e.addForm,"name",t)},expression:"addForm.name"}},[r("Icon",{attrs:{slot:"prefix",type:"md-add"},slot:"prefix"})],1)],1)],2)],1)},l=[],g=(r("7f7f"),r("28a5"),r("6762"),r("2fdb"),r("cebc")),h=r("2f62"),v={name:"Sidebar",data:function(){return{categoryMap:{system:[],custom:[]},addForm:{name:""},editForm:{id:"",name:""},isAddingCategory:!1,currentActiveName:"",currentCategory:{type:"",info:{}}}},computed:Object(g["a"])({},Object(h["c"])("Apps/TODO",{menuList:function(e){return e.menuList}})),methods:{init:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,t.initAddForm(),t.initEditForm(),t.initCurrentCategory(),e.next=6,t.getCategoryList();case 6:t.handleActiveName(),t.triggerMenu(t.currentActiveName);case 8:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),initAddForm:function(){var e=this;e.addForm={name:""}},initEditForm:function(e){var t=this;t.editForm=e||{id:"",name:""}},initCurrentCategory:function(){var e=this;e.currentCategory={type:"",info:{}}},getCategoryList:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(){var t,r,n,a,i,s,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,t.$store.dispatch("Apps/TODO/category/list",{});case 3:if(r=e.sent,r&&200===r.code){e.next=6;break}return e.abrupt("return");case 6:for(r.data.count&&r.data.list&&r.data.list.length?t.$Message.success(r.msg):t.$Message.info(t.$t("L00011")),n=r.data.list||[],a={system:[],custom:[]},i=0,s=n.length;i<s;i++)o=n[i],0===o.create_user_id?a.system.push(o):a.custom.push(o);t.categoryMap=a,t.$store.commit("Apps/TODO/categoryMap/update",a);case 12:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),handleActiveName:function(){var e=this;e.menuList.filter(function(e){return e.enable}).length?e.currentActiveName="menu_0":e.categoryMap.system.length?e.currentActiveName="category_system_0":e.categoryMap.custom.length&&(e.currentActiveName="category_custom_0")},triggerMenu:function(e){var t=this,r={type:"",info:{}};if(e.includes("menu")||e.includes("category")){var n;e.includes("menu")?r.type="menu":e.includes("category")&&(r.type="category",n=e.split("_")[1]);var a=e.split("_").pop();"menu"===r.type?r.info=t.menuList[a]:"category"===r.type&&(r.info=t.categoryMap[n][a])}else if(e.includes("action")){var i=e.split("_")[1];r={type:"action",info:{name:i}},"addCategory"===i&&(t.isAddingCategory=!0,t.$nextTick(function(){t.$refs.addCategory&&t.$refs.addCategory.autofocus&&t.$refs.addCategory.focus()}))}t.$store.commit("Apps/TODO/currentMenu/update",r),"category"===r.type&&t.$nextTick(function(){t.$X.utils.bus.$emit("Apps/TODO/Sidebar/category/trigger",r)})},doAddCategory:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=this,t.addForm.name){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,t.$store.dispatch("Apps/TODO/category/add",t.addForm);case 5:if(r=e.sent,r&&200===r.code){e.next=8;break}return e.abrupt("return");case 8:t.$Message.success(r.msg),t.initAddForm(),t.getCategoryList();case 11:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),doEditCategory:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=this,t.editForm.name){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,t.$store.dispatch("Apps/TODO/category/edit",t.editForm);case 5:if(r=e.sent,r&&200===r.code){e.next=8;break}return e.abrupt("return");case 8:t.$Message.success(r.msg),t.initEditForm(),t.initCurrentCategory(),t.getCategoryList();case 12:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),handleBlur:function(e){var t=this;switch(e){case"add":t.isAddingCategory=!1,t.initAddForm();break;case"edit":t.initEditForm(),t.initCurrentCategory();break}}},created:function(){var e=this;e.init(),e.$X.utils.bus.$on("Apps/TODO/Sidebar/refresh",function(){e.getCategoryList()}),e.$X.utils.bus.$on("Apps/TODO/Sidebar/category/edit",function(t){e.currentCategory=t,e.initEditForm(t.info),e.$nextTick(function(){var r="editCategory_"+t.info.id;e.$refs[r][0]&&e.$refs[r][0].autofocus&&e.$refs[r][0].focus()})})},beforeDestroy:function(){var e=this;e.$X.utils.bus.$off("Apps/TODO/Sidebar/refresh"),e.$X.utils.bus.$off("Apps/TODO/Sidebar/category/edit")}},y=v,b=(r("f040"),r("2877")),k=Object(b["a"])(y,f,l,!1,null,"419ca902",null),w=k.exports,O=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"main-content-box"},[r(e.currentComponent,{tag:"component"})],1)},x=[],C=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"task-box"},[r("div",{staticClass:"header"},[r("div",{staticClass:"title",style:e.themeStyle},[e._v(e._s(e.currentCategory.info?e.currentCategory.info.name:""))]),r("div",{staticClass:"tools"},[e.currentCategory.info.create_user_id?r("ColorPicker",{staticClass:"tool-item",attrs:{transfer:!1},on:{"on-change":e.handleThemeChange},model:{value:e.currentTheme,callback:function(t){e.currentTheme=t},expression:"currentTheme"}}):e._e(),e.currentCategory.info.create_user_id?r("Dropdown",{staticClass:"tool-item",staticStyle:{"margin-left":"10px"},attrs:{trigger:"click"},on:{"on-click":e.handleAction}},[r("a",{attrs:{href:"javascript:void(0)"}},[r("Icon",{staticStyle:{"font-size":"20px"},attrs:{type:"ios-more"}})],1),r("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[r("DropdownItem",{attrs:{name:"edit"}},[e._v(e._s(e.$t("L00171")))]),r("DropdownItem",{staticStyle:{color:"#ed4014"},attrs:{name:"remove"}},[e._v(e._s(e.$t("L00124")))])],1)],1):e._e()],1)]),r("div",{staticClass:"body"},[r("div",{staticClass:"add-block"},[r("Form",{attrs:{model:e.addForm,inline:""},nativeOn:{submit:function(e){e.preventDefault()}}},[r("FormItem",{staticStyle:{width:"100%"},attrs:{prop:"content"}},[r("Input",{ref:"addTask",staticClass:"input-block",attrs:{placeholder:e.$t("L00167"),size:"large",autofocus:!0},on:{"on-enter":function(t){return t.stopPropagation(),t.preventDefault(),e.doAddTask(t)}},model:{value:e.addForm.content,callback:function(t){e.$set(e.addForm,"content",t)},expression:"addForm.content"}},[r("Icon",{attrs:{slot:"prefix",type:"md-add"},slot:"prefix"})],1)],1)],1)],1),r("div",{staticClass:"list-block"},[r("Form",{attrs:{inline:""},nativeOn:{submit:function(e){e.preventDefault()}}},[e._l(Object.keys(e.taskMap).sort().reverse(),function(t){return e._l(e.taskMap[t],function(t,n){return r("FormItem",{key:t.index,staticStyle:{width:"100%"}},[r("Divider",{directives:[{name:"show",rawName:"v-show",value:e.dividerMap[t.index],expression:"dividerMap[item.index]"}]},[r("Icon",{attrs:{type:"ios-arrow-down"}}),e._v("\n              "+e._s(e.dividerMap[t.index])+"\n            ")],1),r("Input",{staticClass:"input-block",style:e.themeStyle,attrs:{value:"# "+(n+1)+" "+t.content,readonly:"",size:"large"}},[r("Icon",{staticClass:"icon",style:e.themeStyle,attrs:{slot:"prefix",type:t.icon},nativeOn:{mouseover:function(r){return e.handleOver(t.index)},mouseout:function(r){return e.handleOut(t.index)},click:function(r){return e.handleStatusChange(t)}},slot:"prefix"}),r("Rate",{attrs:{slot:"prefix"},on:{"on-change":function(r){return e.handleStarChange(t,r)}},slot:"prefix",model:{value:t.star,callback:function(r){e.$set(t,"star",r)},expression:"item.star"}})],1)],1)})})],2)],1)])])},$=[],T=r("db0c"),A=r.n(T),_={name:"TaskList",data:function(){return{addForm:{},taskList:[],taskMap:{},iconList:["ios-radio-button-off","ios-checkmark-circle"],currentCategory:{type:"",info:{}},currentTheme:"",dividerMap:{}}},computed:{themeStyle:function(){var e=this;return e.currentTheme?{color:e.currentTheme}:{}}},methods:{initAddForm:function(){var e=this;e.addForm={content:""}},handleOut:function(e){var t=this;t.taskList[e].status?t.taskList[e].icon="ios-checkmark-circle":t.taskList[e].icon="ios-radio-button-off"},handleOver:function(e){var t=this;t.taskList[e].status?t.taskList[e].icon="ios-checkmark-circle":t.taskList[e].icon="ios-checkmark-circle-outline"},handleStatusChange:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t){var r,n,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=this,n=t.status,e.next=4,r.$store.dispatch("Apps/TODO/task/edit",{id:t.id,status:n?0:1});case 4:if(a=e.sent,a&&200===a.code){e.next=7;break}return e.abrupt("return");case 7:r.$Message.success(n?r.$t("L00168"):r.$t("L00169")),r.getTaskList();case 9:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),handleStarChange:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t,r){var n,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=this,e.next=3,n.$store.dispatch("Apps/TODO/task/edit",{id:t.id,star:r});case 3:if(a=e.sent,a&&200===a.code){e.next=6;break}return e.abrupt("return");case 6:n.$Message.success(a.msg),n.getTaskList();case 8:case"end":return e.stop()}},e,this)}));function t(t,r){return e.apply(this,arguments)}return t}(),handleThemeChange:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,t.$store.dispatch("Apps/TODO/category/edit",{id:t.currentCategory.info.id,theme:t.currentTheme});case 3:if(r=e.sent,r&&200===r.code){e.next=6;break}return e.abrupt("return");case 6:t.$Message.success(r.msg),t.$X.utils.bus.$emit("Apps/TODO/Sidebar/refresh");case 8:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),doAddTask:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=this,t.addForm.content){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,t.$store.dispatch("Apps/TODO/task/add",{content:t.addForm.content,category_id:t.currentCategory.info.id});case 5:if(r=e.sent,r&&200===r.code){e.next=8;break}return e.abrupt("return");case 8:t.$Message.success(r.msg),t.initAddForm(),t.getTaskList();case 11:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),getTaskList:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(){var t,r,n,a,i,s,o,c;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,t.$store.dispatch("Apps/TODO/task/list",{category_id:t.currentCategory.info.id});case 3:if(r=e.sent,r&&200===r.code){e.next=6;break}return e.abrupt("return");case 6:for(r.data.count&&r.data.list&&r.data.list.length?t.$Message.success(r.msg):t.$Message.info(t.$t("L00011")),n=r.data.list||[],a={},i={},s=0,o=n.length;s<o;s++)n[s].index=s,n[s].icon=t.iconList[n[s].status],c=t.$X.moment(n[s].create_time).format("YYYY-MM-DD"),A()(a).includes(c)||(a[s]=c),i[c]||(i[c]=[]),i[c].push(n[s]);t.taskList=n,t.taskMap=i,t.dividerMap=a;case 14:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),handleAction:function(e){var t=this;switch(e){case"edit":t.handleEditCategory();break;case"remove":t.handleRemoveCategory();break}},handleEditCategory:function(){var e=this;e.$X.utils.bus.$emit("Apps/TODO/Sidebar/category/edit",e.currentCategory)},handleRemoveCategory:function(){var e=this;e.$Modal.confirm({title:e.$t("L00141"),content:e.$t("L00060"),onOk:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("Apps/TODO/category/remove",{id:e.currentCategory.info.id});case 2:if(r=t.sent,r&&200===r.code){t.next=5;break}return t.abrupt("return");case 5:e.$Message.info(r.msg),e.$X.utils.bus.$emit("Apps/TODO/Sidebar/refresh");case 7:case"end":return t.stop()}},t)}));function r(){return t.apply(this,arguments)}return r}()})},handleCategoryTrigger:function(e){var t=this;t.currentCategory=e,t.currentTheme=e.info&&e.info.theme?e.info.theme:"",t.initAddForm(),t.getTaskList(),t.$nextTick(function(){t.$refs.addTask&&t.$refs.addTask.autofocus&&t.$refs.addTask.focus()})}},created:function(){var e=this;e.$X.utils.bus.$on("Apps/TODO/Sidebar/category/trigger",function(t){e.handleCategoryTrigger(t)})},beforeDestroy:function(){var e=this;e.$X.utils.bus.$off("Apps/TODO/Sidebar/category/trigger")}},R=_,M=(r("bb88"),Object(b["a"])(R,C,$,!1,null,null,null)),D=M.exports,L={name:"MainContent",computed:Object(g["a"])({},Object(h["c"])("Apps/TODO",{currentActiveName:function(e){return e.currentActiveName},currentMenu:function(e){return e.currentMenu}}),{currentComponent:function(){var e,t=this;switch(t.currentMenu.type){case"category":e=D;break}return e}})},F=L,j=(r("c100"),Object(b["a"])(F,O,x,!1,null,"b8d63024",null)),S=j.exports,I={name:"TODO",components:{Sidebar:w,MainContent:S},created:function(){var e=this;e.$store.registerModule(["Apps",m.moduleName],m.store)},destroyed:function(){var e=this;e.$store.unregisterModule(["Apps",m.moduleName])}},N=I,E=(r("f6da"),Object(b["a"])(N,n,a,!1,null,"7bcc8c51",null));t["default"]=E.exports},"9e1c":function(e,t,r){r("7d6d"),e.exports=r("584a").Object.values},bb88:function(e,t,r){"use strict";var n=r("e15e"),a=r.n(n);a.a},c100:function(e,t,r){"use strict";var n=r("d9aa"),a=r.n(n);a.a},d9aa:function(e,t,r){},db0c:function(e,t,r){e.exports=r("9e1c")},e15e:function(e,t,r){},f040:function(e,t,r){"use strict";var n=r("fb83"),a=r.n(n);a.a},f6da:function(e,t,r){"use strict";var n=r("7dc1"),a=r.n(n);a.a},fb83:function(e,t,r){}}]);